import "dart:html" as o;import "dart:async" as EB;class q{static const  s="Chrome";static const  t="Firefox";static const  u="Internet Explorer";static const  v="Safari";final  n;final  minimumVersion;const q(this.n,[this.minimumVersion]);}class AB{const AB();}class BB{final  name;const BB(this.name);}class CB{const CB();}class DB{const DB();}var i;j( k){var h=o.query('#output');var g=k;if(!h.text.isEmpty){g="${h.text}\n${g}";}h.text=g;} l([ h=2]){var k=false;j("Connecting to websocket");i=new o.WebSocket('ws://echo.websocket.org'); m(){if(!k){new EB.Timer(new Duration(milliseconds:1000*h),()=>l(h*2));}k=true;}i.onOpen.listen((g){j('Connected');i.send('Hello from Dart!');});i.onClose.listen((g){j('Websocket closed, retrying in ${h} seconds');m();});i.onError.listen((g){j("Error connecting to ws");m();});i.onMessage.listen(( g){j('Received message: ${g.data}');});} main(){l();}